{% extends 'codedoor/base.html' %}
{% load static %}
{% block content %}
<head>
  <link rel="stylesheet" type="text/css" href="{% static 'css/basecompany1.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/application.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/modal.css' %}">
</head>
<body>
  <div class="companyportion">
    <div class="company-logo">
      {% if company.logo %}
        <img src="{{company.logo}}" alt="Company logo" width="150" height="150">
      {% else %}
        <img src="/static/images/temp.png" alt="Company logo" width="150" height="150">
      {% endif %}

      <div class='sub1'><h1>{{company.name}}</h1><br>
        <p>{{ company.industry }}, {{company.structure}}</p><br>
        <img src="{% static 'images/linklogo.png' %}" class='logo' width="20px" height="20px" /> <span>{{company.website}}</span>
        <img src="{% static 'images/locationlogo.png' %}" class='logo' width="20px" height="20px" /> <span>Mountain View</span>
      </div>

    </div>
  </div>

  <hr id="break">
  <div id="nav">
    <a href="{% url 'codedoor:viewcompany' pk=company.pk database='reviews' %}" id="reviews_tab" class="active_item nav_items">Reviews</a>
    <a href="{% url 'codedoor:viewcompany' pk=company.pk database='applications' %}" id="applications_tab" class="nav_items">Applications</a>
    <span style="float:right;position:absolute;right:10%;">
      <a class="sub" id="createreviewbutton">Add Review</a>
      <a class="sub" href="{% url 'codedoor:editcompany' pk=company.pk %}">Edit Company Info</a>
      <a id="create-application-btn" class="sub" onclick="displayApplicationForm()">Add Application</a>
    </span>
  </div>


<div id="reviewmodal" class="modal">
  <div class="modal-content">
    <span id="closeR" class="close">&times;</span>
    <h1> Create Review </h1><br>
    <div class="space">
      <h4>Review Title</h4>
      <div class="border-text">
        <div id="title">
          <input type="text" name="title" id="title1">
        </div>
        <p class="error" id="title-error">
        </p>
      </div>
    </div><br>
    <div class="space">
      <h4>Companies</h4> <br>
      <div class="border">
        <select name="company" class="menu companies" id="reviewcompany">
                <option value={{company.pk}} selected>{{company.name}}</option>
          {% for c in companies %}
              {% if c.pk != company.pk %}
                <option value={{c.pk}}><p>{{c.name}}</p></option>
              {% endif %}
          {% endfor %}
        </select>
      </div>
      <p class="error" id="company-error">
      </p>
    </div><br>
      <div class="space">
      <h4>Rating</h4> <br>
      <div class="border-text">
        <div id="number">
          <input type="number" name="rating" min="0" max="5" step="0.5" id="rating">
        </div>
      </div>
      <p class="error" id="rating-error">
      </p>
    </div><br>
    <div class="space"><h4>Recommend</h4>
      <div class="border">
        <span><input type="radio" name="recommend" value=True id="yes">  Yes</span>
        <span><input type="radio" name="recommend" value=False id="no">  No</span><br>
      </div>
      <p class="error" id="recommend-error">
      </p>
    </div><br>
    <div class="space"><h4>Review</h4> <br>
      <div class="border">
        <textarea type="text" name="review" id="review"></textarea>
      </div>
      <p class="error" id="review-error">
      </p>
    </div><br>
    <button id="submit_button_review" class="inline-block small-teal">Submit Review</button>
  </div>
</div>

<div id="application-modal" class="modal">
  <div class="modal-content">
    <span id="closeA" class="close">&times;</span>
    <div id="hidden-application" class="indent">
      <h1> Create Application</h1><br>
      {% csrf_token %}
      <div class="entry">
        <h4>Position:</h4><br>
        <p id="error0"></p>
        <input id="position" name="position" placeholder="Job title" class="text" required></input><br>
      </div>
      <div class="entry">
        <h4>Season:</h4><br>
        <p id="error1" class="error"></p>
        <select id="season" name="season" class="menu" required>
          <option value="Fall">Fall</option>
          <option value="Winter">Winter</option>
          <option value="Spring">Spring</option>
          <option value="Summer">Summer</option>
        </select>
      </div>
      <div class="entry">
        <h4>Year:</h4><br>
        <p id="error2" class="error"></p>
        <input id="year" type="number" min="1990" max="2018" name="year" placeholder="e.g. 2015" class="select-num" required></input><br>
      </div>
      <div class="entry">
        <h4>Difficulty:</h4><br>
        <p id="error3" class="error"></p>
        <input id="difficulty" type="number" min="1" max="10" name="difficulty" placeholder="1-10" class="select-num" required></input><br>
      </div>
      <div class="entry">
        <h4>Description:</h4><br>
        <p id="error4" class="error"></p>
        <textarea id="description" name="description" placeholder="Description of application" required></textarea><br>
      </div>
      <div class="entry">
        <h4>Received Offer:</h4><br>
        <p id="error5" class="error"></p>
        <p><input id="received_offer" type="radio" name="received_offer" value="Yes" class="bubble"> Yes</p>
        <p><input id="received_offer" type="radio" name="received_offer" value="No" class="bubble"> No</p><br>
      </div>
      <div class="entry">
        <h4>Offer details:</h4><br>
        <p id="error6" class="error"></p>
        <textarea id="offer_details" name="offer_details" placeholder="Offer details (pay, perks, etc.)"></textarea><br>
      </div>
      <div class="entry">
        <button id="submit_button" type="submit" class="small-teal">Submit</button>
      </div>
    </div>
  </div>
</div>


<div id="bottom-half" class="indent">
  {% block tabcontent %}
  {% endblock %}
</div>
</body>
<script src="{% static 'js/createApplicationFromCompany.js' %}"></script>
<script src="{% static 'js/viewcompany_tabs.js' %}"></script>
<script src="{% static 'js/createreview.js' %}"></script>
<script>
  reviewData.pk = {{ company.pk }};
</script>
{% endblock %}
